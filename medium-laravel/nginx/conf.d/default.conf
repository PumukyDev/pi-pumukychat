server {
  listen 80;
  server_name  pumukydev.com;

  # Redirect everything to HTTPS
  return 301 https://$host$request_uri;
}

server {
    listen 443 ssl default_server;
    listen [::]:443 ssl default_server;

    ssl_certificate /etc/nginx/certs/pumukydev.com_ssl_certificate.cer;
    ssl_certificate_key /etc/nginx/certs/_.pumukydev.com_private_key.key;

    root /var/www/public;
    index  index.php index.html;

    server_name pumukydev.com;


  location / {
      try_files $uri $uri/ /index.php?$query_string;
  }

  location /index.php {
      try_files $uri = 404;
      fastcgi_split_path_info ^(.+\.php)(/.+)$;
      fastcgi_pass app:9000;
      fastcgi_index index.php;
      include fastcgi_params;
      fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
      fastcgi_param PATH_INFO $fastcgi_path_info;


  }
}